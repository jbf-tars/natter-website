---
const navLinks = [
  { label: "Features", href: "/#features" },
  { label: "Pricing", href: "/#pricing" },
  { label: "FAQ", href: "/#faq" },
];
---

<header
  id="site-header"
  class="fixed top-0 left-0 right-0 z-50 transition-all duration-300"
>
  <div class="mx-auto max-w-6xl px-6 py-4 flex items-center justify-between">
    <a href="/" class="flex items-center gap-2 text-xl font-bold text-text">
      <img src="/favicon.svg" alt="Waffler" class="h-8 w-8" />
      Waffler
    </a>

    <nav class="hidden md:flex items-center gap-8">
      {
        navLinks.map((link) => (
          <a
            href={link.href}
            class="text-sm text-text-muted hover:text-text transition-colors"
          >
            {link.label}
          </a>
        ))
      }
      <a
        href="/download"
        class="rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white hover:bg-primary-hover transition-colors"
      >
        Download
      </a>
    </nav>

    <button
      id="mobile-menu-btn"
      class="md:hidden flex flex-col gap-1.5 p-2"
      aria-label="Toggle menu"
    >
      <span class="block h-0.5 w-6 bg-text transition-all duration-300"></span>
      <span class="block h-0.5 w-6 bg-text transition-all duration-300"></span>
      <span class="block h-0.5 w-6 bg-text transition-all duration-300"></span>
    </button>
  </div>

  <div id="mobile-menu" class="md:hidden hidden px-6 pb-6 pt-2">
    <nav class="flex flex-col gap-4">
      {
        navLinks.map((link) => (
          <a href={link.href} class="text-text-muted hover:text-text transition-colors">
            {link.label}
          </a>
        ))
      }
      <a
        href="/download"
        class="rounded-lg bg-primary px-4 py-2 text-sm font-semibold text-white text-center hover:bg-primary-hover transition-colors"
      >
        Download
      </a>
    </nav>
  </div>
</header>

<script>
  const header = document.getElementById("site-header")!;
  const mobileBtn = document.getElementById("mobile-menu-btn")!;
  const mobileMenu = document.getElementById("mobile-menu")!;

  window.addEventListener("scroll", () => {
    if (window.scrollY > 20) {
      header.classList.add("header-glass");
    } else {
      header.classList.remove("header-glass");
    }
  });

  mobileBtn.addEventListener("click", () => {
    mobileMenu.classList.toggle("hidden");
  });

  mobileMenu.querySelectorAll("a").forEach((link) => {
    link.addEventListener("click", () => {
      mobileMenu.classList.add("hidden");
    });
  });
</script>
